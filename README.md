# **FMX-Terminal (Skia)**

**FMX-Terminal** ‚Äî —ç—Ç–æ –≤—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —ç–º—É–ª—è—Ç–æ—Ä–∞ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ (VT100/ANSI) –¥–ª—è Delphi FireMonkey, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ **Skia** –¥–ª—è –∞–ø–ø–∞—Ä–∞—Ç–Ω–æ–≥–æ —É—Å–∫–æ—Ä–µ–Ω–∏—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞.

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω –¥–ª—è —Ç–µ—Ö, –∫–æ–º—É –Ω—É–∂–µ–Ω –±—ã—Å—Ç—Ä—ã–π, –ø–ª–∞–≤–Ω—ã–π –∏ –∫—Ä–æ—Å—Å-–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª –≤–Ω—É—Ç—Ä–∏ FMX –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.

## **üî• –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**

* **–í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**:  
  * –ò—Å–ø–æ–ª—å–∑—É–µ—Ç **Skia** –¥–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ (GPU-—É—Å–∫–æ—Ä–µ–Ω–∏–µ).  
  * **Batch Rendering**: –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —Å–∏–º–≤–æ–ª–æ–≤ –¥–ª—è –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏–∏ –≤—ã–∑–æ–≤–æ–≤ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏.  
  * **Dirty Lines**: –ü–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏.  
  * **Hardware Scroll**: –°–∫—Ä–æ–ª–ª–∏–Ω–≥ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —á–µ—Ä–µ–∑ —Å–¥–≤–∏–≥ –±–∏—Ç–º–∞–ø–∞ (Backbuffer), —á—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø–ª–∞–≤–Ω–æ—Å—Ç—å –¥–∞–∂–µ –ø—Ä–∏ –±–æ–ª—å—à–æ–º –ø–æ—Ç–æ–∫–µ –¥–∞–Ω–Ω—ã—Ö.  
* **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**:  
  * –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö —É–ø—Ä–∞–≤–ª—è—é—â–∏—Ö –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π VT100/Xterm/ANSI.  
  * –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –ø—Å–µ–≤–¥–æ–≥—Ä–∞—Ñ–∏–∫–æ–π (Line Drawing) ‚Äî —Ä–∞–º–∫–∏ –≤ mc, htop, ncdu –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ.  
  * –ü–æ–¥–¥–µ—Ä–∂–∫–∞ 256 —Ü–≤–µ—Ç–æ–≤ –∏ TrueColor.  
* **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**:  
  * –í—ã–¥–µ–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –º—ã—à—å—é (–∫–∞–∫ –≤ Putty/VSCode).  
  * –ë—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞ (Ctrl+Shift+C / Ctrl+Shift+V).  
  * –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º—ã—à–∏ (–∫–ª–∏–∫–∏, —Å–∫—Ä–æ–ª–ª) –≤ –∫–æ–Ω—Å–æ–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö (SGR mouse mode).  
  * –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–µ–º –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è (–∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑ —Ñ–∞–π–ª–æ–≤ .theme).  
  * –£–º–Ω—ã–π —Å–∫—Ä–æ–ª–ª–±—ç–∫ (–∏—Å—Ç–æ—Ä–∏—è –∫–æ–º–∞–Ω–¥).

## **üì¶ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è**

* **Delphi 12 Athens** (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) ‚Äî Skia —É–∂–µ –≤—Å—Ç—Ä–æ–µ–Ω–∞, –Ω–∏—á–µ–≥–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –Ω–µ –Ω—É–∂–Ω–æ.  
* *–ò–ª–∏* Delphi 11 Alexandria ‚Äî —Ç—Ä–µ–±—É–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ **Skia4Delphi** —á–µ—Ä–µ–∑ GetIt.

## **üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞**

1. –°–∫–∞—á–∞–π—Ç–µ —ç—Ç–æ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.  
2. –î–æ–±–∞–≤—å—Ç–µ –ø–∞–ø–∫—É —Å –∏—Å—Ö–æ–¥–Ω—ã–º –∫–æ–¥–æ–º –≤ Library Path –≤–∞—à–µ–π IDE –∏–ª–∏ –ø–æ–ª–æ–∂–∏—Ç–µ —Ñ–∞–π–ª—ã —Ä—è–¥–æ–º —Å –ø—Ä–æ–µ–∫—Ç–æ–º.  
3. –í–∫–ª—é—á–∏—Ç–µ Skia –≤ –≤–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ:  
   * **–î–ª—è Delphi 12**: –í —Ñ–∞–π–ª–µ –ø—Ä–æ–µ–∫—Ç–∞ .dpr –∏–ª–∏ –≤ –∫–æ–¥–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ GlobalUseSkia := True;.  
   * **–î–ª—è —Å—Ç–∞—Ä—ã—Ö –≤–µ—Ä—Å–∏–π**: –ü—Ä–∞–≤—ã–π –∫–ª–∏–∫ –ø–æ –ø—Ä–æ–µ–∫—Ç—É \-\> Enable Skia.

## **üíª –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç TnbTerminal (–Ω–∞—Å–ª–µ–¥–Ω–∏–∫ TSkPaintBox) –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ Design-time (–µ—Å–ª–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å).

### **–ü—Ä–∏–º–µ—Ä —Å–æ–∑–¥–∞–Ω–∏—è (Runtime)**

uses  
  Terminal.Control, Terminal.Theme;

procedure TFormMain.FormCreate(Sender: TObject);  
begin  
  // –°–æ–∑–¥–∞–µ–º —Ç–µ—Ä–º–∏–Ω–∞–ª  
  Terminal := TnbTerminal.Create(Self);  
  Terminal.Parent := LayoutClient;  
  Terminal.Align := TAlignLayout.Client;  
    
  // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º —à—Ä–∏—Ñ—Ç (–≤–∞–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–æ–Ω–æ—à–∏—Ä–∏–Ω–Ω—ã–π)  
  Terminal.FontFamily := 'Consolas';   
  Terminal.FontSize := 13;

  // –ü–æ–¥–∫–ª—é—á–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–∞–Ω–Ω—ã—Ö (—Ç–æ, —á—Ç–æ –≤–≤–æ–¥–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)  
  Terminal.OnData := DoTerminalData;  
end;

// –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Å–µ—Ä–≤–µ—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ —Å–æ–∫–µ—Ç)  
procedure TFormMain.DoTerminalData(const S: string);  
begin  
  MySocket.Send(S);  
end;

// –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞  
procedure TFormMain.OnSocketRead(const Data: string);  
begin  
  Terminal.WriteText(Data);  
end;

### **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–º–∞–º–∏**

–í—ã –º–æ–∂–µ—Ç–µ –∑–∞–≥—Ä—É–∂–∞—Ç—å —Ü–≤–µ—Ç–æ–≤—ã–µ —Å—Ö–µ–º—ã –∏–∑ —Ñ–∞–π–ª–æ–≤:

Terminal.Theme.LoadThemeFromFile('Solarized-Dark.theme');
## **ü§ù –£—á–∞—Å—Ç–∏–µ (Contributing)**

–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è –ª—é–±—ã–µ —É–ª—É—á—à–µ–Ω–∏—è\! –ï—Å–ª–∏ –≤—ã –Ω–∞—à–ª–∏ –±–∞–≥ —Å –ø–∞—Ä—Å–∏–Ω–≥–æ–º ANSI-–∫–æ–¥–æ–≤ –∏–ª–∏ —Ö–æ—Ç–∏—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é —Ñ–∏—á—É:

1. –§–æ—Ä–∫–Ω–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.  
2. –°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É (git checkout \-b feature/NewFeature).  
3. –ó–∞–∫–æ–º–º–∏—Ç—å—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è.  
4. –°–¥–µ–ª–∞–π—Ç–µ Pull Request.
